# ๐งช ะขะตััะธัะพะฒะฐะฝะธะต ัะธััะตะผั ัะตัะปะตะบัะธะธ ะฐะณะตะฝัะพะฒ

## ๐ ะะฐะบ ะฟัะพะฒะตัะธัั ัะฐะฑะพัั ัะตัะปะตะบัะธะธ ัะตัะตะท ะธะฝัะตััะตะนั

### 1. ะะฐะฟััะบ ัะธััะตะผั

```bash
# ะ ะบะพัะฝะต ะฟัะพะตะบัะฐ
./start.sh

# ะะปะธ ะพัะดะตะปัะฝะพ:
cd backend && python -m uvicorn main:app --reload --port 8000
cd frontend && npm run dev
```

### 2. ะขะตััะพะฒัะต ััะตะฝะฐัะธะธ

#### ะกัะตะฝะฐัะธะน A: ะัะพััะฐั ะทะฐะดะฐัะฐ (ะฝะธะทะบะฐั ะฒะตัะพััะฝะพััั retry)

**ะะฐะฟัะพั:**
```
ะะฐะฟะธัะธ ััะฝะบัะธั ะดะปั ัะปะพะถะตะฝะธั ะดะฒัั ัะธัะตะป
```

**ะะถะธะดะฐะตะผัะน ัะตะทัะปััะฐั:**
- ะะปะพะบ "Quality Analysis" ั ะฒััะพะบะพะน ะพัะตะฝะบะพะน (85-100)
- ะกัะฐััั "โจ ะัะปะธัะฝะพ" ะธะปะธ "๐ ะฅะพัะพัะพ"
- ะะตั ะธัะฟัะฐะฒะปะตะฝะธะน (_corrected: false)

---

#### ะกัะตะฝะฐัะธะน B: ะกะปะพะถะฝะฐั ะทะฐะดะฐัะฐ (ะฒะตัะพััะฝะพััั retry)

**ะะฐะฟัะพั:**
```
ะกะพะทะดะฐะน ะฟะพะปะฝะพัะตะฝะฝัั ะธะณัั ะทะผะตะนะบั ะฝะฐ Python ั pygame, ะฒะบะปััะฐั:
- ะะตะฝั ััะฐััะฐ
- ะะพะดัััั ะพัะบะพะฒ
- ะะฐะทะฝัะต ััะพะฒะฝะธ ัะปะพะถะฝะพััะธ
- ะะพะทะผะพะถะฝะพััั ะฟะฐัะทั
- ะกะพััะฐะฝะตะฝะธะต ัะตะบะพัะดะพะฒ
```

**ะะถะธะดะฐะตะผัะน ัะตะทัะปััะฐั:**
- ะะตัะบะพะปัะบะพ ะฟะพะฟััะพะบ (ะพัะพะฑัะฐะถะฐะตััั "๐ ะะพะฟััะพะบ: 2-3")
- ะะพะทะผะพะถะฝะพ badge "๐ ะัะฟัะฐะฒะปะตะฝะพ"
- ะะตัะฐะปัะฝะฐั ะพัะตะฝะบะฐ ะฟะพ ะบะฐัะตะณะพัะธัะผ

---

#### ะกัะตะฝะฐัะธะน C: ะะฐะผะตัะตะฝะฝะพ ัะปะพะถะฝัะน ะทะฐะฟัะพั

**ะะฐะฟัะพั:**
```
ะะฐะฟะธัะธ ะฒะตะฑ-ัะตัะฒะตั ะฝะฐ Python ะฑะตะท ััะตะนะผะฒะพัะบะพะฒ ั ะฟะพะดะดะตัะถะบะพะน WebSocket, CORS, ัะตััะธะน ะธ JWT ะฐะฒัะพัะธะทะฐัะธะธ
```

**ะะถะธะดะฐะตะผัะน ัะตะทัะปััะฐั:**
- ะะตัะบะพะปัะบะพ ะธัะตัะฐัะธะน
- ะะธะดะธะผัะต ะทะฐะผะตัะฐะฝะธั ะธ ัะปัััะตะฝะธั
- ะัะตะผั ะฒัะฟะพะปะฝะตะฝะธั (โฑ๏ธ ะฟะพะบะฐะทัะฒะฐะตั ัะตะบัะฝะดั)

---

### 3. ะงัะพ ัะผะพััะตัั ะฒ UI

ะะพัะปะต ะฒัะฟะพะปะฝะตะฝะธั ะทะฐะดะฐัะธ ะฟะพัะฒะธััั ะฑะปะพะบ **"๐ Quality Analysis"**:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ Quality Analysis            โจ ะัะปะธัะฝะพ   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ โโโโโโโโโโโโโโ โโโโโโโโโโโโโโ โโโโโโโโโโโโโโ โ
โ โ ะะพะปะฝะพัะฐ    โ โ ะะพััะตะบัะฝ.  โ โ ะะฐัะตััะฒะพ   โ โ
โ โ โโโโโโโโโโ โ โ โโโโโโโโโโ โ โ โโโโโโโโโโ โ โ
โ โ      85%   โ โ       92%  โ โ       78%  โ โ
โ โโโโโโโโโโโโโโ โโโโโโโโโโโโโโ โโโโโโโโโโโโโโ โ
โ                                              โ
โ ะะฑัะฐั ะพัะตะฝะบะฐ โโโโโโโโโโโโโโโโโโโโโโโ  87     โ
โ                                              โ
โ โ๏ธ ะะฐะผะตัะฐะฝะธั              ๐ก ะฃะปัััะตะฝะธั      โ
โ โข ะะตั docstring          โข ะะพะฑะฐะฒะธัั ัะธะฟั    โ
โ โข ะะตั ะพะฑัะฐะฑะพัะบะธ ะพัะธะฑะพะบ   โข ะะพะฑะฐะฒะธัั ัะตััั   โ
โ                                              โ
โ ๐ ะะพะฟััะพะบ: 2                โฑ๏ธ 12.5ั       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### 4. ะฆะฒะตัะพะฒะฐั ะบะพะดะธัะพะฒะบะฐ ะพัะตะฝะพะบ

| ะฃัะพะฒะตะฝั | ะฆะฒะตั | ะัะตะฝะบะฐ |
|---------|------|--------|
| ะัะปะธัะฝะพ | ๐ข ะะตะปัะฝัะน | 90-100 |
| ะฅะพัะพัะพ | ๐ต ะกะธะฝะธะน | 70-89 |
| ะัะธะตะผะปะตะผะพ | ๐ก ะัะปััะน | 50-69 |
| ะกะปะฐะฑะพ | ๐ด ะัะฐัะฝัะน | <50 |

### 5. ะกัะฐะฒะฝะตะฝะธะต "ะะพ" ะธ "ะะพัะปะต"

#### ะะพ ัะตัะปะตะบัะธะธ (ััะฐัะพะต ะฟะพะฒะตะดะตะฝะธะต):
- ะะณะตะฝั ะณะตะฝะตัะธััะตั ะพัะฒะตั ะพะดะฝะพะบัะฐัะฝะพ
- ะะตั ะพัะตะฝะบะธ ะบะฐัะตััะฒะฐ
- ะะตั ะธัะฟัะฐะฒะปะตะฝะธะน

#### ะะพัะปะต ัะตัะปะตะบัะธะธ (ะฝะพะฒะพะต ะฟะพะฒะตะดะตะฝะธะต):
- ะะณะตะฝั ะฐะฝะฐะปะธะทะธััะตั ัะฒะพะน ัะตะทัะปััะฐั
- ะัะปะธ ะบะฐัะตััะฒะพ < 60%, ะดะตะปะฐะตั ะดะพ 2 ะฟะพะฒัะพัะฝัั ะฟะพะฟััะพะบ
- ะะพะบะฐะทัะฒะฐะตั ะผะตััะธะบะธ ะบะฐัะตััะฒะฐ
- ะะพะบะฐะทัะฒะฐะตั ััะพ ะฑัะปะพ ะธัะฟัะฐะฒะปะตะฝะพ

---

## ๐ง ะะฐัััะพะนะบะฐ ัะตัะตะท ะบะพะฝัะธะณ

ะ `backend/config/config.yaml`:

```yaml
agents:
  code_writer:
    reflection:
      enabled: true           # ะะบะปััะธัั ัะตัะปะตะบัะธั
      max_retries: 2          # ะะฐะบั. ะฟะพะฟััะพะบ ะธัะฟัะฐะฒะปะตะฝะธั
      min_quality_threshold: 70.0  # ะะพัะพะณ ะบะฐัะตััะฒะฐ (%)
```

### ะัะบะปััะตะฝะธะต ัะตัะปะตะบัะธะธ ะดะปั ัะตััะธัะพะฒะฐะฝะธั

ะงัะพะฑั ััะฐะฒะฝะธัั ัะตะทัะปััะฐัั ั/ะฑะตะท ัะตัะปะตะบัะธะธ:

```yaml
agents:
  code_writer:
    reflection:
      enabled: false  # ะัะบะปััะธัั
```

ะะปะธ ัะตัะตะท context ะฟัะธ ะฒัะทะพะฒะต:
```python
result = await agent.execute(task, {"_skip_reflection": True})
```

---

## ๐ ะะตััะธะบะธ ะดะปั ะพัะตะฝะบะธ ะฟัะธัะพััะฐ

### 1. ะะฐัะตััะฒะพ ะบะพะดะฐ
- **completeness**: ะะฐัะบะพะปัะบะพ ะฟะพะปะฝะพ ัะตัะตะฝะฐ ะทะฐะดะฐัะฐ
- **correctness**: ะะพััะตะบัะฝะพััั ัะตะฐะปะธะทะฐัะธะธ
- **quality**: ะะฐัะตััะฒะพ ะบะพะดะฐ (ัะธัะฐะตะผะพััั, best practices)

### 2. ะกัะฐัะธััะธะบะฐ retry
- ะกะบะพะปัะบะพ ะทะฐะดะฐั ะฟะพััะตะฑะพะฒะฐะปะธ ะธัะฟัะฐะฒะปะตะฝะธั
- ะกัะตะดะฝะตะต ะบะพะปะธัะตััะฒะพ ะฟะพะฟััะพะบ
- ะฃะปัััะตะฝะธะต ะพัะตะฝะบะธ ะฟะพัะปะต retry

### 3. ะัะตะผั ะฒัะฟะพะปะฝะตะฝะธั
- ะะฐะทะพะฒะพะต ะฒัะตะผั (ะฑะตะท reflection)
- ะัะตะผั ั reflection
- Overhead ะพั reflection

---

## ๐ ะัะพะฒะตัะบะฐ ัะตัะตะท API

```bash
# ะัะฟะพะปะฝะธัั ะทะฐะดะฐัั ะธ ะฟะพัะผะพััะตัั reflection
curl -X POST http://localhost:8000/api/v1/tasks/execute \
  -H "Content-Type: application/json" \
  -d '{
    "task": "ะะฐะฟะธัะธ ััะฝะบัะธั quicksort ะฝะฐ Python",
    "agent_type": "code_writer"
  }' | jq '.result._reflection'
```

ะะถะธะดะฐะตะผัะน ะพัะฒะตั:
```json
{
  "completeness": 95,
  "correctness": 90,
  "quality": 85,
  "overall_score": 90.5,
  "quality_level": "excellent",
  "issues": [],
  "improvements": ["ะะพะฑะฐะฒะธัั docstring"],
  "should_retry": false
}
```

---

## ๐ ะะถะธะดะฐะตะผัะน ะฟัะธัะพัั ะบะฐัะตััะฒะฐ

| ะะตััะธะบะฐ | ะะตะท ัะตัะปะตะบัะธะธ | ะก ัะตัะปะตะบัะธะตะน | ะฃะปัััะตะฝะธะต |
|---------|---------------|--------------|-----------|
| ะะพะปะฝะพัะฐ ัะตัะตะฝะธั | ~75% | ~90% | +15% |
| ะะพััะตะบัะฝะพััั | ~80% | ~92% | +12% |
| ะฃัะฟะตัะฝะพััั ั 1 ะฟะพะฟััะบะธ | 70% | 85%+ | +15% |
| ะฃะดะพะฒะปะตัะฒะพััะฝะฝะพััั | - | ะััะต | ะกัะฑัะตะบัะธะฒะฝะพ |

---

## โ๏ธ ะะทะฒะตััะฝัะต ะพะณัะฐะฝะธัะตะฝะธั

1. **ะฃะฒะตะปะธัะตะฝะธะต ะฒัะตะผะตะฝะธ**: Reflection ะดะพะฑะฐะฒะปัะตั 1-3 ัะตะบัะฝะดั ะฝะฐ ะฐะฝะฐะปะธะท
2. **Retry ัะฒะตะปะธัะธะฒะฐะตั ะฒัะตะผั**: ะะฐะถะดะฐั ะฟะพะฟััะบะฐ = ะดะพะฟะพะปะฝะธัะตะปัะฝะพะต ะฒัะตะผั
3. **ะะฐะฒะธัะธะผะพััั ะพั LLM**: ะะฐัะตััะฒะพ ัะตัะปะตะบัะธะธ ะทะฐะฒะธัะธั ะพั ะผะพะดะตะปะธ

---

## ๐งช ะงะตะบะปะธัั ัะตััะธัะพะฒะฐะฝะธั

- [ ] ะะฐะฟัััะธัั backend ะธ frontend
- [ ] ะัะฟัะฐะฒะธัั ะฟัะพัััั ะทะฐะดะฐัั โ ัะฒะธะดะตัั ะฑะปะพะบ Quality Analysis
- [ ] ะัะฟัะฐะฒะธัั ัะปะพะถะฝัั ะทะฐะดะฐัั โ ัะฒะธะดะตัั ะฝะตัะบะพะปัะบะพ ะฟะพะฟััะพะบ
- [ ] ะัะพะฒะตัะธัั ััะพ ะพัะตะฝะบะธ ะพัะพะฑัะฐะถะฐัััั ะบะพััะตะบัะฝะพ
- [ ] ะัะพะฒะตัะธัั ัะฒะตัะพะฒัั ะบะพะดะธัะพะฒะบั
- [ ] ะกัะฐะฒะฝะธัั ัะตะทัะปััะฐัั ั enabled: false ะธ enabled: true

